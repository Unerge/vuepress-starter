<!doctype html>
<html lang="en-US">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.15" />
    <style>
      :root {
        --vp-c-bg: #fff;
      }

      [data-theme='dark'] {
        --vp-c-bg: #1b1b1f;
      }

      html,
      body {
        background-color: var(--vp-c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme')
      const systemDarkMode =
        'matchMedia' in window
          ? window.matchMedia('(prefers-color-scheme: dark)').matches
          : false

      if (userMode === 'light') {
        document.documentElement.dataset.theme = 'light'
      } else if (userMode === 'dark' || systemDarkMode) {
        document.documentElement.dataset.theme = 'dark'
      }
    </script>
    <link rel="icon" href="/vuepress-starter/logo.jpg"><title>爬取Bing每日背景图 | WentUrc</title><meta name="description" content="持续学习大学课程">
    <link rel="preload" href="/vuepress-starter/assets/style-CiNDsaeo.css" as="style"><link rel="stylesheet" href="/vuepress-starter/assets/style-CiNDsaeo.css">
    <link rel="modulepreload" href="/vuepress-starter/assets/app-BtrsJWon.js"><link rel="modulepreload" href="/vuepress-starter/assets/5.html-CM8dTSN9.js">
    <link rel="prefetch" href="/vuepress-starter/assets/index.html-PzESjmye.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/1.html-BGmB9NMk.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/2.html-ovGyowDY.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/3.html-BZ0vAmmT.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/4.html-BTthkn4q.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/index.html-CYOHlppi.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/index.html-DpyIwCrd.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/index.html-yxsXMI6C.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/1.html-CH3PPllW.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/2.html-BW__TaFm.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/3.html-B6YSRrBG.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/4.html-CoD-5Tbv.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/6.html-d891VIh8.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/7.html-Doox1rW5.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/8.html-D1xtryXS.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/9.html-Cil_SWme.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/index.html-CR_XYmcX.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/index.html-5WI4cCOV.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/复习资料1.html-D56rV6mt.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/题目1的解答.html-CCUJuOFz.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/题目解答2.html-B_nK2Fx7.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/index.html-Dr1wAsM8.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/复习资料 01.html-dMtQoH8X.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/index.html-BV-4cIl-.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/导论.html-HfUI4DWp.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/第一章.html-wNk-0qTq.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/第二章.html-BwBYf2tq.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/index.html-TXD6QYbY.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/第一章.html-XMi9H2SO.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/第二章.html-CCLMCMiu.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/绪论.html-BHjPij7i.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/index.html-C15w15C0.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/经济学期末考-复习1.html-BlAZlUX6.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/经济学期末考-复习2.html-DYe_c9P9.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/index.html-Be9WAxWG.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/期末资料 .html-CQTYdpd5.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/index.html-CWjdUpoH.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/期末资料 .html-BdOs6Ypj.js" as="script"><link rel="prefetch" href="/vuepress-starter/assets/404.html-DachhIWq.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="vp-theme-container external-link-icon" vp-container><!--[--><header class="vp-navbar" vp-navbar><div class="vp-toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a class="route-link" href="/vuepress-starter/"><img class="vp-site-logo" src="/vuepress-starter/img/logo1251.jpg" alt="WentUrc"><span class="vp-site-name vp-hide-mobile" aria-hidden="true">WentUrc</span></a></span><div class="vp-navbar-items-wrapper" style=""><!--[--><!--]--><nav class="vp-navbar-items vp-hide-mobile" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><a class="route-link auto-link" href="/vuepress-starter/beta/" aria-label="beta"><!---->beta<!----></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/vuepress-starter/GPTstory/" aria-label="GPTstort"><!---->GPTstort<!----></a></div><div class="vp-navbar-item"><a class="route-link route-link-active auto-link" href="/vuepress-starter/tech/" aria-label="tech"><!---->tech<!----></a></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="WentUrc Learn"><span class="title">WentUrc Learn</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="WentUrc Learn"><span class="title">WentUrc Learn</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-starter/learn/" aria-label="前言"><!---->前言<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-starter/learn/%E5%B7%A5%E7%A8%8B%E5%8A%9B%E5%AD%A6/" aria-label="工程力学"><!---->工程力学<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-starter/learn/%E7%AE%A1%E7%90%86%E5%AD%A6/" aria-label="管理学"><!---->管理学<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-starter/learn/%E7%BB%8F%E6%B5%8E%E5%AD%A6/" aria-label="经济学"><!---->经济学<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-starter/learn/%E8%8B%B1%E8%AF%AD/" aria-label="英语"><!---->英语<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-starter/learn/%E8%BF%91%E4%BB%A3%E5%8F%B2/" aria-label="近代史"><!---->近代史<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-starter/learn/%E6%AF%9B%E6%A6%82/" aria-label="毛泽东概论"><!---->毛泽东概论<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-starter/learn/%E6%88%BF%E5%B1%8B%E5%BB%BA%E7%AD%91%E5%AD%A6/" aria-label="房屋建筑学"><!---->房屋建筑学<!----></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><a class="auto-link external-link" href="https://github.com/Unerge/vuepress-starter" aria-label="GitHub" rel="noopener noreferrer" target="_blank"><!---->GitHub<!----></a></div><!--]--></nav><!--[--><!--]--><button type="button" class="vp-toggle-color-mode-button" title="toggle color mode"><svg class="light-icon" viewbox="0 0 32 32" style=""><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg class="dark-icon" viewbox="0 0 32 32" style="display:none;"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><form class="search-box" role="search"><input type="search" placeholder="Search" autocomplete="off" spellcheck="false" value><!----></form></div></header><!--]--><div class="vp-sidebar-mask"></div><!--[--><aside class="vp-sidebar" vp-sidebar><nav class="vp-navbar-items" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><a class="route-link auto-link" href="/vuepress-starter/beta/" aria-label="beta"><!---->beta<!----></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/vuepress-starter/GPTstory/" aria-label="GPTstort"><!---->GPTstort<!----></a></div><div class="vp-navbar-item"><a class="route-link route-link-active auto-link" href="/vuepress-starter/tech/" aria-label="tech"><!---->tech<!----></a></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="WentUrc Learn"><span class="title">WentUrc Learn</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="WentUrc Learn"><span class="title">WentUrc Learn</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-starter/learn/" aria-label="前言"><!---->前言<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-starter/learn/%E5%B7%A5%E7%A8%8B%E5%8A%9B%E5%AD%A6/" aria-label="工程力学"><!---->工程力学<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-starter/learn/%E7%AE%A1%E7%90%86%E5%AD%A6/" aria-label="管理学"><!---->管理学<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-starter/learn/%E7%BB%8F%E6%B5%8E%E5%AD%A6/" aria-label="经济学"><!---->经济学<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-starter/learn/%E8%8B%B1%E8%AF%AD/" aria-label="英语"><!---->英语<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-starter/learn/%E8%BF%91%E4%BB%A3%E5%8F%B2/" aria-label="近代史"><!---->近代史<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-starter/learn/%E6%AF%9B%E6%A6%82/" aria-label="毛泽东概论"><!---->毛泽东概论<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-starter/learn/%E6%88%BF%E5%B1%8B%E5%BB%BA%E7%AD%91%E5%AD%A6/" aria-label="房屋建筑学"><!---->房屋建筑学<!----></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><a class="auto-link external-link" href="https://github.com/Unerge/vuepress-starter" aria-label="GitHub" rel="noopener noreferrer" target="_blank"><!---->GitHub<!----></a></div><!--]--></nav><!--[--><!--]--><ul class="vp-sidebar-items"><!--[--><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading active collapsible">tech <span class="down arrow"></span></p><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/vuepress-starter/tech/1.html" aria-label="原神伤害公式"><!---->原神伤害公式<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/vuepress-starter/tech/2.html" aria-label="Hyper-V虚拟交换机无法显示交换机列表"><!---->Hyper-V虚拟交换机无法显示交换机列表<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/vuepress-starter/tech/3.html" aria-label="这里提供3种不同风格的博客站导航栏样式，包括基本样式、现代样式和极简样式。每种样式都将包含HTML和CSS代码。"><!---->这里提供3种不同风格的博客站导航栏样式，包括基本样式、现代样式和极简样式。每种样式都将包含HTML和CSS代码。<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/vuepress-starter/tech/4.html" aria-label="在Windows中，可以通过多种方法修改文件的创建日期。以下是一些常见的方法："><!---->在Windows中，可以通过多种方法修改文件的创建日期。以下是一些常见的方法：<!----></a><!----></li><li><a class="route-link route-link-active auto-link vp-sidebar-item active" href="/vuepress-starter/tech/5.html" aria-label="爬取Bing每日背景图"><!---->爬取Bing每日背景图<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/vuepress-starter/tech/6.html" aria-label="仿制哔哩哔哩站点样式"><!---->仿制哔哩哔哩站点样式<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/vuepress-starter/tech/7.html" aria-label="嵌套虚拟化"><!---->嵌套虚拟化<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/vuepress-starter/tech/8.html" aria-label="Vuepress自定义主题配置"><!---->Vuepress自定义主题配置<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/vuepress-starter/tech/9.html" aria-label="在VuePress中添加评论功能"><!---->在VuePress中添加评论功能<!----></a><!----></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="vp-page"><!--[--><!--]--><div class="theme-default-content" vp-content><!--[--><!--]--><div><h1 id="爬取bing每日背景图" tabindex="-1"><a class="header-anchor" href="#爬取bing每日背景图"><span>爬取Bing每日背景图</span></a></h1><p>爬取 Bing 每日背景图可以通过解析 Bing 的主页来获取背景图 URL。以下是一个简单的 Python 爬虫示例，使用 <code>requests</code> 和 <code>BeautifulSoup</code> 库：</p><ol><li><p><strong>安装必要的库</strong>：</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">pip <span class="token function">install</span> requests beautifulsoup4</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><p><strong>编写爬虫脚本</strong>：</p><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py" data-title="py"><pre><code><span class="line"><span class="token keyword">import</span> requests</span>
<span class="line"><span class="token keyword">from</span> bs4 <span class="token keyword">import</span> BeautifulSoup</span>
<span class="line"><span class="token keyword">import</span> re</span>
<span class="line"></span>
<span class="line"><span class="token keyword">def</span> <span class="token function">get_bing_background_image</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">    <span class="token comment"># Bing 的主页 URL</span></span>
<span class="line">    url <span class="token operator">=</span> <span class="token string">&quot;https://www.bing.com&quot;</span></span>
<span class="line">    </span>
<span class="line">    <span class="token comment"># 请求 Bing 主页</span></span>
<span class="line">    response <span class="token operator">=</span> requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span>url<span class="token punctuation">)</span></span>
<span class="line">    </span>
<span class="line">    <span class="token keyword">if</span> response<span class="token punctuation">.</span>status_code <span class="token operator">==</span> <span class="token number">200</span><span class="token punctuation">:</span></span>
<span class="line">        <span class="token comment"># 解析 HTML 内容</span></span>
<span class="line">        soup <span class="token operator">=</span> BeautifulSoup<span class="token punctuation">(</span>response<span class="token punctuation">.</span>text<span class="token punctuation">,</span> <span class="token string">&#39;html.parser&#39;</span><span class="token punctuation">)</span></span>
<span class="line">        </span>
<span class="line">        <span class="token comment"># 找到背景图的 URL</span></span>
<span class="line">        tag <span class="token operator">=</span> soup<span class="token punctuation">.</span>find<span class="token punctuation">(</span><span class="token string">&#39;link&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token string">&#39;id&#39;</span><span class="token punctuation">:</span> <span class="token string">&#39;preloadBg&#39;</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token keyword">or</span> soup<span class="token punctuation">.</span>find<span class="token punctuation">(</span><span class="token string">&#39;div&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token string">&#39;id&#39;</span><span class="token punctuation">:</span> <span class="token string">&#39;bgDiv&#39;</span><span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line">        </span>
<span class="line">        <span class="token keyword">if</span> tag<span class="token punctuation">:</span></span>
<span class="line">            <span class="token comment"># 获取 href 属性或者 style 属性中的背景图片URL</span></span>
<span class="line">            img_url <span class="token operator">=</span> <span class="token boolean">None</span></span>
<span class="line">            <span class="token keyword">if</span> tag<span class="token punctuation">.</span>name <span class="token operator">==</span> <span class="token string">&#39;link&#39;</span><span class="token punctuation">:</span></span>
<span class="line">                img_url <span class="token operator">=</span> tag<span class="token punctuation">[</span><span class="token string">&#39;href&#39;</span><span class="token punctuation">]</span></span>
<span class="line">            <span class="token keyword">elif</span> tag<span class="token punctuation">.</span>name <span class="token operator">==</span> <span class="token string">&#39;div&#39;</span><span class="token punctuation">:</span></span>
<span class="line">                style <span class="token operator">=</span> tag<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">&#39;style&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">)</span></span>
<span class="line">                <span class="token keyword">match</span> <span class="token operator">=</span> re<span class="token punctuation">.</span>search<span class="token punctuation">(</span><span class="token string">r&#39;url\(&quot;(.+?)&quot;\)&#39;</span><span class="token punctuation">,</span> style<span class="token punctuation">)</span></span>
<span class="line">                <span class="token keyword">if</span> <span class="token keyword">match</span><span class="token punctuation">:</span></span>
<span class="line">                    img_url <span class="token operator">=</span> <span class="token keyword">match</span><span class="token punctuation">.</span>group<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span></span>
<span class="line">            </span>
<span class="line">            <span class="token keyword">if</span> img_url<span class="token punctuation">:</span></span>
<span class="line">                <span class="token comment"># 有时候URL不是完整的，需要补全</span></span>
<span class="line">                <span class="token keyword">if</span> <span class="token keyword">not</span> img_url<span class="token punctuation">.</span>startswith<span class="token punctuation">(</span><span class="token string">&#39;http&#39;</span><span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">                    img_url <span class="token operator">=</span> url <span class="token operator">+</span> img_url</span>
<span class="line">                <span class="token keyword">return</span> img_url</span>
<span class="line">    <span class="token keyword">return</span> <span class="token boolean">None</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 获取并打印 Bing 背景图 URL</span></span>
<span class="line">image_url <span class="token operator">=</span> get_bing_background_image<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">if</span> image_url<span class="token punctuation">:</span></span>
<span class="line">    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;Bing Background Image URL:&quot;</span><span class="token punctuation">,</span> image_url<span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">else</span><span class="token punctuation">:</span></span>
<span class="line">    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;Failed to get Bing background image URL&quot;</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ol><p>这段代码会请求 Bing 的主页，解析页面中的背景图 URL 并打印出来。</p><p><strong>注意事项</strong>：</p><ol><li>Bing 的页面结构可能会随时间改变，所以如果爬虫不能正常工作，请检查页面结构并调整代码。</li><li>请确保爬虫的行为符合网站的使用条款和法律规定。</li></ol><p>要实现每七天自动爬取一次 Bing 背景图，可以使用定时任务调度工具。以下是一些实现方法：</p><ol><li><p><strong>使用 <code>time.sleep()</code> 循环实现</strong>：</p><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py" data-title="py"><pre><code><span class="line"><span class="token keyword">import</span> time</span>
<span class="line"><span class="token keyword">import</span> requests</span>
<span class="line"><span class="token keyword">from</span> bs4 <span class="token keyword">import</span> BeautifulSoup</span>
<span class="line"><span class="token keyword">import</span> re</span>
<span class="line"></span>
<span class="line"><span class="token keyword">def</span> <span class="token function">get_bing_background_image</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">    url <span class="token operator">=</span> <span class="token string">&quot;https://www.bing.com&quot;</span></span>
<span class="line">    response <span class="token operator">=</span> requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span>url<span class="token punctuation">)</span></span>
<span class="line">    </span>
<span class="line">    <span class="token keyword">if</span> response<span class="token punctuation">.</span>status_code <span class="token operator">==</span> <span class="token number">200</span><span class="token punctuation">:</span></span>
<span class="line">        soup <span class="token operator">=</span> BeautifulSoup<span class="token punctuation">(</span>response<span class="token punctuation">.</span>text<span class="token punctuation">,</span> <span class="token string">&#39;html.parser&#39;</span><span class="token punctuation">)</span></span>
<span class="line">        tag <span class="token operator">=</span> soup<span class="token punctuation">.</span>find<span class="token punctuation">(</span><span class="token string">&#39;link&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token string">&#39;id&#39;</span><span class="token punctuation">:</span> <span class="token string">&#39;preloadBg&#39;</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token keyword">or</span> soup<span class="token punctuation">.</span>find<span class="token punctuation">(</span><span class="token string">&#39;div&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token string">&#39;id&#39;</span><span class="token punctuation">:</span> <span class="token string">&#39;bgDiv&#39;</span><span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line">        </span>
<span class="line">        <span class="token keyword">if</span> tag<span class="token punctuation">:</span></span>
<span class="line">            img_url <span class="token operator">=</span> <span class="token boolean">None</span></span>
<span class="line">            <span class="token keyword">if</span> tag<span class="token punctuation">.</span>name <span class="token operator">==</span> <span class="token string">&#39;link&#39;</span><span class="token punctuation">:</span></span>
<span class="line">                img_url <span class="token operator">=</span> tag<span class="token punctuation">[</span><span class="token string">&#39;href&#39;</span><span class="token punctuation">]</span></span>
<span class="line">            <span class="token keyword">elif</span> tag<span class="token punctuation">.</span>name <span class="token operator">==</span> <span class="token string">&#39;div&#39;</span><span class="token punctuation">:</span></span>
<span class="line">                style <span class="token operator">=</span> tag<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">&#39;style&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">)</span></span>
<span class="line">                <span class="token keyword">match</span> <span class="token operator">=</span> re<span class="token punctuation">.</span>search<span class="token punctuation">(</span><span class="token string">r&#39;url\(&quot;(.+?)&quot;\)&#39;</span><span class="token punctuation">,</span> style<span class="token punctuation">)</span></span>
<span class="line">                <span class="token keyword">if</span> <span class="token keyword">match</span><span class="token punctuation">:</span></span>
<span class="line">                    img_url <span class="token operator">=</span> <span class="token keyword">match</span><span class="token punctuation">.</span>group<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span></span>
<span class="line">            </span>
<span class="line">            <span class="token keyword">if</span> img_url<span class="token punctuation">:</span></span>
<span class="line">                <span class="token keyword">if</span> <span class="token keyword">not</span> img_url<span class="token punctuation">.</span>startswith<span class="token punctuation">(</span><span class="token string">&#39;http&#39;</span><span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">                    img_url <span class="token operator">=</span> url <span class="token operator">+</span> img_url</span>
<span class="line">                <span class="token keyword">return</span> img_url</span>
<span class="line">    <span class="token keyword">return</span> <span class="token boolean">None</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span></span>
<span class="line">    image_url <span class="token operator">=</span> get_bing_background_image<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token keyword">if</span> image_url<span class="token punctuation">:</span></span>
<span class="line">        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;Bing Background Image URL:&quot;</span><span class="token punctuation">,</span> image_url<span class="token punctuation">)</span></span>
<span class="line">    <span class="token keyword">else</span><span class="token punctuation">:</span></span>
<span class="line">        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;Failed to get Bing background image URL&quot;</span><span class="token punctuation">)</span></span>
<span class="line">    </span>
<span class="line">    <span class="token comment"># 每七天（604800秒）运行一次</span></span>
<span class="line">    time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token number">604800</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p><strong>使用 <code>schedule</code> 库实现</strong>：</p><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py" data-title="py"><pre><code><span class="line"><span class="token keyword">import</span> time</span>
<span class="line"><span class="token keyword">import</span> schedule</span>
<span class="line"><span class="token keyword">import</span> requests</span>
<span class="line"><span class="token keyword">from</span> bs4 <span class="token keyword">import</span> BeautifulSoup</span>
<span class="line"><span class="token keyword">import</span> re</span>
<span class="line"></span>
<span class="line"><span class="token keyword">def</span> <span class="token function">get_bing_background_image</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">    url <span class="token operator">=</span> <span class="token string">&quot;https://www.bing.com&quot;</span></span>
<span class="line">    response <span class="token operator">=</span> requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span>url<span class="token punctuation">)</span></span>
<span class="line">    </span>
<span class="line">    <span class="token keyword">if</span> response<span class="token punctuation">.</span>status_code <span class="token operator">==</span> <span class="token number">200</span><span class="token punctuation">:</span></span>
<span class="line">        soup <span class="token operator">=</span> BeautifulSoup<span class="token punctuation">(</span>response<span class="token punctuation">.</span>text<span class="token punctuation">,</span> <span class="token string">&#39;html.parser&#39;</span><span class="token punctuation">)</span></span>
<span class="line">        tag <span class="token operator">=</span> soup<span class="token punctuation">.</span>find<span class="token punctuation">(</span><span class="token string">&#39;link&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token string">&#39;id&#39;</span><span class="token punctuation">:</span> <span class="token string">&#39;preloadBg&#39;</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token keyword">or</span> soup<span class="token punctuation">.</span>find<span class="token punctuation">(</span><span class="token string">&#39;div&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token string">&#39;id&#39;</span><span class="token punctuation">:</span> <span class="token string">&#39;bgDiv&#39;</span><span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line">        </span>
<span class="line">        <span class="token keyword">if</span> tag<span class="token punctuation">:</span></span>
<span class="line">            img_url <span class="token operator">=</span> <span class="token boolean">None</span></span>
<span class="line">            <span class="token keyword">if</span> tag<span class="token punctuation">.</span>name <span class="token operator">==</span> <span class="token string">&#39;link&#39;</span><span class="token punctuation">:</span></span>
<span class="line">                img_url <span class="token operator">=</span> tag<span class="token punctuation">[</span><span class="token string">&#39;href&#39;</span><span class="token punctuation">]</span></span>
<span class="line">            <span class="token keyword">elif</span> tag<span class="token punctuation">.</span>name <span class="token operator">==</span> <span class="token string">&#39;div&#39;</span><span class="token punctuation">:</span></span>
<span class="line">                style <span class="token operator">=</span> tag<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">&#39;style&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">)</span></span>
<span class="line">                <span class="token keyword">match</span> <span class="token operator">=</span> re<span class="token punctuation">.</span>search<span class="token punctuation">(</span><span class="token string">r&#39;url\(&quot;(.+?)&quot;\)&#39;</span><span class="token punctuation">,</span> style<span class="token punctuation">)</span></span>
<span class="line">                <span class="token keyword">if</span> <span class="token keyword">match</span><span class="token punctuation">:</span></span>
<span class="line">                    img_url <span class="token operator">=</span> <span class="token keyword">match</span><span class="token punctuation">.</span>group<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span></span>
<span class="line">            </span>
<span class="line">            <span class="token keyword">if</span> img_url<span class="token punctuation">:</span></span>
<span class="line">                <span class="token keyword">if</span> <span class="token keyword">not</span> img_url<span class="token punctuation">.</span>startswith<span class="token punctuation">(</span><span class="token string">&#39;http&#39;</span><span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">                    img_url <span class="token operator">=</span> url <span class="token operator">+</span> img_url</span>
<span class="line">                <span class="token keyword">return</span> img_url</span>
<span class="line">    <span class="token keyword">return</span> <span class="token boolean">None</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">def</span> <span class="token function">job</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">    image_url <span class="token operator">=</span> get_bing_background_image<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token keyword">if</span> image_url<span class="token punctuation">:</span></span>
<span class="line">        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;Bing Background Image URL:&quot;</span><span class="token punctuation">,</span> image_url<span class="token punctuation">)</span></span>
<span class="line">    <span class="token keyword">else</span><span class="token punctuation">:</span></span>
<span class="line">        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;Failed to get Bing background image URL&quot;</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 每七天运行一次任务</span></span>
<span class="line">schedule<span class="token punctuation">.</span>every<span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">.</span>days<span class="token punctuation">.</span>do<span class="token punctuation">(</span>job<span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span></span>
<span class="line">    schedule<span class="token punctuation">.</span>run_pending<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">    time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p><strong>使用操作系统的定时任务工具</strong>：</p><ul><li><strong>Linux/Mac</strong>：使用 <code>cron</code>。 <ol><li>编写爬虫脚本（如 <code>bing_scraper.py</code>）。</li><li>编辑 <code>crontab</code> 文件：<code>crontab -e</code></li><li>添加以下内容以设置每七天运行一次：<div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token number">0</span> <span class="token number">0</span> */7 * * /usr/bin/python3 /path/to/bing_scraper.py</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li></ol></li><li><strong>Windows</strong>：使用任务计划程序。 <ol><li>编写爬虫脚本（如 <code>bing_scraper.py</code>）。</li><li>打开任务计划程序，创建一个新任务。</li><li>设置触发器为每周运行一次，选择具体的时间和日期。</li><li>设置操作为运行 <code>python.exe</code> 并传递脚本路径作为参数（如 <code>C:\path\to\bing_scraper.py</code>）。</li></ol></li></ul></li></ol><p>选择适合自己的方法来实现定期运行爬虫任务。</p></div><!--[--><!--]--></div><footer class="vp-page-meta"><div class="vp-meta-item edit-link"><a class="auto-link external-link label" href="https://github.com/Unerge/vuepress-starter/edit/docs/docs/tech/5.md" aria-label="在 GitHub 上编辑此页" rel="noopener noreferrer" target="_blank"><!--[--><svg class="edit-icon" viewbox="0 0 1024 1024"><g fill="currentColor"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></g></svg><!--]-->在 GitHub 上编辑此页<!----></a></div><div class="vp-meta-item git-info"><div class="vp-meta-item last-updated"><span class="meta-item-label">Last Updated: </span><!----></div><div class="vp-meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: 114554982+Larch4@users.noreply.github.com">Larch4</span><!----><!--]--><!--]--></span></div></div></footer><nav class="vp-page-nav" aria-label="page navigation"><a class="route-link auto-link prev" href="/vuepress-starter/tech/4.html" aria-label="在Windows中，可以通过多种方法修改文件的创建日期。以下是一些常见的方法："><div class="hint"><span class="arrow left"></span> Prev</div><div class="link"><span>在Windows中，可以通过多种方法修改文件的创建日期。以下是一些常见的方法：</span></div></a><a class="route-link auto-link next" href="/vuepress-starter/tech/6.html" aria-label="仿制哔哩哔哩站点样式"><div class="hint">Next <span class="arrow right"></span></div><div class="link"><span>仿制哔哩哔哩站点样式</span></div></a></nav><!--[--><!--]--></main><!--]--></div><!--[--><!----><!--]--><!--]--></div>
    <script type="module" src="/vuepress-starter/assets/app-BtrsJWon.js" defer></script>
  </body>
</html>
