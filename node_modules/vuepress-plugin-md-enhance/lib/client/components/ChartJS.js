import{decodeData as h,LoadingIcon as v,wait as y}from"@vuepress/helper/client";import{useMutationObserver as j}from"@vueuse/core";import{defineComponent as S,shallowRef as d,ref as u,computed as w,onMounted as C,watch as b,h as a}from"vue";import"../styles/chartjs.scss";import{g as f}from"../getDarkmodeStatus-DQ0CDr6h.js";const A=(t,r)=>r==="json"?JSON.parse(t):new Function(`let config,__chart_js_config__;
{
${t}
__chart_js_config__=config;
}
return __chart_js_config__;`)();var E=S({name:"ChartJS",props:{config:{type:String,required:!0},id:{type:String,required:!0},title:{type:String,default:""},type:{type:String,default:"json"}},setup(t){const r=d(),s=d(),i=u(!1),n=u(!0),m=w(()=>h(t.config));let l=!1,c;const p=async e=>{const[{default:o}]=await Promise.all([import("chart.js/auto"),l?Promise.resolve():(l=!0,y(MARKDOWN_ENHANCE_DELAY))]);o.defaults.borderColor=e?"#ccc":"#36A2EB",o.defaults.color=e?"#fff":"#000",o.defaults.maintainAspectRatio=!1;const _=A(m.value,t.type),g=s.value.getContext("2d");c?.destroy(),c=new o(g,_),n.value=!1};return C(()=>{i.value=f(),j(document.documentElement,()=>{i.value=f()},{attributeFilter:["class","data-theme"],attributes:!0}),b(i,e=>p(e),{immediate:!0})}),()=>[t.title?a("div",{class:"chartjs-title"},decodeURIComponent(t.title)):null,n.value?a(v,{class:"chartjs-loading",height:192}):null,a("div",{ref:r,class:"chartjs-wrapper",id:t.id,style:{display:n.value?"none":"block"}},a("canvas",{ref:s,height:400}))]}});export{E as default};
//# sourceMappingURL=ChartJS.js.map
