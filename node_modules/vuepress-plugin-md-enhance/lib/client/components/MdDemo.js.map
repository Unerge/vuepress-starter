{"version":3,"file":"MdDemo.js","sources":["../../../src/client/components/MdDemo.ts"],"sourcesContent":["import { useEventListener, useToggle } from \"@vueuse/core\";\nimport type { SlotsType, VNode } from \"vue\";\nimport { defineComponent, h, ref, shallowRef } from \"vue\";\n\nimport \"../styles/md-demo.scss\";\n\nexport default defineComponent({\n  name: \"MdDemo\",\n\n  props: {\n    /**\n     * Markdown demo id\n     *\n     * Markdown 代码演示 id\n     */\n    id: {\n      type: String,\n      required: true,\n    },\n\n    /**\n     * Markdown demo title\n     *\n     * Markdown 演示标题\n     */\n    title: {\n      type: String,\n      default: \"\",\n    },\n  },\n\n  slots: Object as SlotsType<{\n    default: () => VNode[];\n    code: () => VNode[];\n  }>,\n\n  setup(props, { slots }) {\n    const [isExpanded, toggleIsExpand] = useToggle(false);\n    const codeContainer = shallowRef<HTMLDivElement>();\n    const height = ref(\"0\");\n\n    useEventListener(\"beforeprint\", () => {\n      toggleIsExpand(true);\n    });\n\n    return (): VNode =>\n      h(\"div\", { class: \"vp-container vp-md-demo\", id: props.id }, [\n        h(\"div\", { class: \"vp-container-header\" }, [\n          h(\"button\", {\n            type: \"button\",\n            title: \"toggle\",\n            \"aria-hidden\": true,\n            class: [\n              \"vp-md-demo-toggle-button\",\n              isExpanded.value ? \"down\" : \"end\",\n            ],\n            onClick: () => {\n              height.value = isExpanded.value\n                ? \"0\"\n                : `${codeContainer.value!.clientHeight + 13.8}px`;\n              toggleIsExpand();\n            },\n          }),\n          props.title\n            ? h(\n                \"div\",\n                { class: \"vp-container-title\" },\n                decodeURIComponent(props.title),\n              )\n            : null,\n        ]),\n\n        h(\"div\", { class: \"vp-md-demo-display\" }, slots.default?.()),\n\n        h(\n          \"div\",\n          {\n            class: \"vp-md-demo-code-wrapper\",\n            style: { height: height.value },\n          },\n          h(\n            \"div\",\n            {\n              ref: codeContainer,\n              class: \"vp-md-demo-codes\",\n            },\n            slots.code?.(),\n          ),\n        ),\n      ]);\n  },\n});\n"],"names":["MdDemo","defineComponent","props","slots","isExpanded","toggleIsExpand","useToggle","codeContainer","shallowRef","height","ref","useEventListener","h"],"mappings":"oKAMA,IAAAA,EAAeC,EAAgB,CAC7B,KAAM,SAEN,MAAO,CAML,GAAI,CACF,KAAM,OACN,SAAU,EACZ,EAOA,MAAO,CACL,KAAM,OACN,QAAS,EACX,CACF,EAEA,MAAO,OAKP,MAAMC,EAAO,CAAE,MAAAC,CAAM,EAAG,CACtB,KAAM,CAACC,EAAYC,CAAc,EAAIC,EAAU,EAAK,EAC9CC,EAAgBC,EAAAA,EAChBC,EAASC,EAAI,GAAG,EAEtB,OAAAC,EAAiB,cAAe,IAAM,CACpCN,EAAe,EAAI,CACrB,CAAC,EAEM,IACLO,EAAE,MAAO,CAAE,MAAO,0BAA2B,GAAIV,EAAM,EAAG,EAAG,CAC3DU,EAAE,MAAO,CAAE,MAAO,qBAAsB,EAAG,CACzCA,EAAE,SAAU,CACV,KAAM,SACN,MAAO,SACP,cAAe,GACf,MAAO,CACL,2BACAR,EAAW,MAAQ,OAAS,KAC9B,EACA,QAAS,IAAM,CACbK,EAAO,MAAQL,EAAW,MACtB,IACA,GAAGG,EAAc,MAAO,aAAe,IAAI,KAC/CF,EAAe,CACjB,CACF,CAAC,EACDH,EAAM,MACFU,EACE,MACA,CAAE,MAAO,oBAAqB,EAC9B,mBAAmBV,EAAM,KAAK,CAChC,EACA,IACN,CAAC,EAEDU,EAAE,MAAO,CAAE,MAAO,oBAAqB,EAAGT,EAAM,WAAW,EAE3DS,EACE,MACA,CACE,MAAO,0BACP,MAAO,CAAE,OAAQH,EAAO,KAAM,CAChC,EACAG,EACE,MACA,CACE,IAAKL,EACL,MAAO,kBACT,EACAJ,EAAM,OACR,CAAA,CACF,CACF,CAAC,CACL,CACF,CAAC"}