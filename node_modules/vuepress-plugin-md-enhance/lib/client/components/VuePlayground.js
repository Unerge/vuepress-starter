import{deepAssign as w,LoadingIcon as P}from"@vuepress/helper/client";import{defineComponent as U,ref as V,shallowRef as n,computed as I,onMounted as C,h as r,version as S}from"vue";import"@vue/repl/style.css";import"../styles/vue-playground.scss";import{u as M}from"../vuePlayground-CO_YI934.js";const b=e=>JSON.parse(decodeURIComponent(e));var O=U({name:"VuePlayground",props:{title:{type:String,default:""},files:{type:String,required:!0},settings:{type:String,default:"{}"}},setup(e){const{vueVersion:t=S,vueRuntimeDevUrl:a=`https://unpkg.com/@vue/runtime-dom@${t}/dist/runtime-dom.esm-browser.js`,vueRuntimeProdUrl:l=`https://unpkg.com/@vue/runtime-dom@${t}/dist/runtime-dom.esm-browser.prod.js`,vueServerRendererUrl:p=`https://unpkg.com/@vue/server-renderer@${t}/dist/server-renderer.esm-browser.js`,...d}=M(),i=V(!0),o=n(),s=n(),u=n(),m=I(()=>w({},d,b(e.settings))),v=async()=>{const[{useStore:c,useVueImportMap:g,Repl:f},{default:R}]=await Promise.all([import("@vue/repl"),VUE_PLAYGROUND_MONACO?import("@vue/repl/monaco-editor"):import("@vue/repl/codemirror-editor")]);o.value=f,u.value=R;const{importMap:y,vueVersion:h}=g({runtimeDev:a,runtimeProd:l,serverRenderer:p});s.value=c({builtinImportMap:y,vueVersion:h},decodeURIComponent(e.files))};return C(async()=>{await v(),i.value=!1}),()=>[r("div",{class:"vp-container vue-playground-wrapper"},[e.title?r("div",{class:"vp-container-header"},r("div",{class:"vp-container-title"},decodeURIComponent(e.title))):null,r("div",{class:"repl-container"},[i.value?r(P,{class:"vue-preview-loading",height:192}):null,o.value?r(o.value,{...m.value,editor:u.value,store:s.value}):null])])]}});export{O as default};
//# sourceMappingURL=VuePlayground.js.map
