const $=(c,{name:u="demo",openRender:R=(a,e)=>`<details><summary>${a[e].info.trim()}</summary>
`,closeRender:g=()=>`</details>
`,codeRender:o,contentOpenRender:f,contentCloseRender:k,beforeContent:b=!1}={})=>{const a=(e,r,v,x)=>{let s=e.bMarks[r]+e.tShift[r],i=e.eMarks[r];if(e.src.charAt(s)!==":")return!1;let n=s+1;for(;n<=i&&e.src.charAt(n)===":";)n++;const h=n-s;if(h<3)return!1;const T=e.src.slice(s,n),_=e.src.slice(n,i);if(_.trim().split(" ",2)[0]!==u)return!1;if(x)return!0;let t=r,M=!1;for(;t<v&&(t++,s=e.bMarks[t]+e.tShift[t],i=e.eMarks[t],!(s<i&&e.sCount[t]<e.blkIndent));)if(e.src[s]===":"&&e.sCount[t]-e.blkIndent<4){for(n=s+1;n<=i&&e.src[n]===":";n++);if(Math.floor(n-s)>=h&&(n=e.skipSpaces(n),n>=i)){M=!0;break}}const A=e.parentType,S=e.lineMax;e.parentType="demo",e.lineMax=t;const p=_.trim().slice(u.length).trim(),l=e.push("demo_open","div",1);l.markup=T,l.block=!0,l.info=p,l.map=[r,t];const y=()=>{const d=e.push(o?"demo_code":"fence","code",0),I=e.sCount[r];d.content=e.src.split(/\n\r?/).slice(r+1,t).map(O=>O.substring(I)).join(`
`).replace(/^\n+/,"").replace(/\n*$/,`
`),d.map=[r,e.line],(d.meta??={}).title=p,o||(d.info="md")};b&&y();const C=e.push("demo_content_open","div",1);C.attrPush(["class","demo-content"]),C.block=!0,l.map=[r,t],e.md.block.tokenize(e,r+1,t);const j=e.push("demo_content_close","div",-1);j.block=!0,b||y();const m=e.push("demo_close","div",-1);return m.markup=e.src.slice(s,n),m.block=!0,m.info=p,e.parentType=A,e.lineMax=S,e.line=t+(M?1:0),!0};c.block.ruler.before("fence","demo",a,{alt:["paragraph","reference","blockquote","list"]}),c.renderer.rules.demo_open=R,c.renderer.rules.demo_close=g,o&&(c.renderer.rules.demo_code=o),f&&(c.renderer.rules.demo_content_open=f),k&&(c.renderer.rules.demo_content_close=k)};export{$ as demo};
//# sourceMappingURL=index.js.map
